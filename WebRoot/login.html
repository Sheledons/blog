<!DOCTYPE html>
<html>
<head>
  <title>sheledonBlog</title>
  <meta charset="utf-8">  
  <script src="lib/js/jquery-3.4.1.js"></script>
  <link rel="stylesheet" type="text/css" href="css/login.css">
  <script type="text/javascript">
    var checkInputName=function(){
      if($("#name").val()==""){
        $("#name").css("border","2px red solid");
         $(".error-msgName").html("请输入账号");
         return false;
      }
      else{
        $("#name").css("border","");
        $(".error-msgName").html("");
        return true;
      }
    }
    var checkInputPwd=function(){
      console.log($("#pwd").val());
      if($("#pwd").val()==""){
        $("#pwd").css("border","2px red solid");
         $(".error-msgPwd").html("请输入密码");
         return false;
      }
      else{
        $("#pwd").css("border","");
        $(".error-msgPwd").html("");
        return true;
      }
    }
  </script>
  <script type="text/javascript">
  $(function(){
    $(".submit").click(function(){
      console.log(checkInputName()&&checkInputPwd());
      if(checkInputName()&&checkInputPwd()){
        $.post("loginServlet",$(".loginInfo").serialize(),function(data){
          if(data.flag){
            location.href="index.html"; //跳转登录成功页面
          }
          else{
            $(".error-msgName").html("账号或密码错误");
          }
        });
      }
    });
  });
  </script>
</head>
<body>
  <div class="main">
    <h1 style="color:#1E90FF;font-family:">Change World</h1>
    <form action="" class="loginInfo" method="post">
      <input type="text" name="name" placeholder="请输入用户名" id="name">
      <input type="password" name="pwd" placeholder="请输入密码" id="pwd"> 
      <div class="error-msgName"></div>
      <div class="error-msgPwd"></div>
      <button type="button" class="submit">登录</button>
    </form>
    <script type="text/javascript">
      $("#name").blur(checkInputName);
      $("#pwd").blur(checkInputPwd);
    </script>
    <a href="javascript:;">访客登录</a>
  </div>
</body>
</html>